<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>우주동</title>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-spacedong.png" />
    <link rel="stylesheet" th:href="@{/css/find.css}">
</head>
<body th:style="|background-image: url('@{/sources/picture/우주배경기본.png}');
background-size: cover;
background-repeat: no-repeat;
background-position: center;
background-attachment: fixed;|">

<a th:href="@{/}" class="logo-container">
    <img th:src="@{/sources/picture/우주동로고.png}" alt="우주동 로고" class="logo-img">
    <div class="logo-hover-text">
        <div><span class="first-letter">우</span>리</div>
        <div><span class="first-letter">주</span>변의</div>
        <div><span class="first-letter">동</span>호회</div>
    </div>
</a>

<div class="find-container">
    <h2>비밀번호 찾기</h2>

    <div th:if="${message}" class="alert" th:classappend="${success} ? 'alert-success' : 'alert-danger'">
        <p th:text="${message}">메시지</p>
    </div>

    <form id="find-password-form" th:action="@{/member/find_password_pro}" method="post" th:style="${verified} ? 'display: none;' : 'display: block;'">
        <div class="input-group">
            <label for="member_id">아이디</label>
            <input type="text" id="member_id" name="member_id" class="input-field" placeholder="아이디" required />
        </div>

        <div class="input-group">
            <label for="phone">휴대폰 번호</label>
            <input type="text" id="phone" name="phone" class="input-field" placeholder="휴대폰 번호 (- 없이 입력)" required />
        </div>

        <button type="submit" class="submit-button">본인 확인</button>
    </form>

    <!-- 비밀번호 재설정 폼 (본인 확인 후 표시) -->
    <form id="reset-password-form" th:action="@{/member/reset_password}" method="post" th:if="${verified}" style="display: block;">
        <h3>비밀번호 재설정</h3>

        <input type="hidden" name="member_id" th:value="${member_id}" />

        <div class="input-group">
            <label for="new_password">새 비밀번호</label>
            <input type="password" id="new_password" name="new_password" class="input-field" placeholder="새 비밀번호" required />
        </div>

        <div class="input-group">
            <label for="confirm_password">비밀번호 확인</label>
            <input type="password" id="confirm_password" name="confirm_password" class="input-field" placeholder="비밀번호 확인" required />
        </div>

        <div class="password-rules">
            <p>비밀번호는 8자 이상이어야 하며, 영문, 숫자, 특수문자를 포함해야 합니다.</p>
        </div>

        <button type="submit" class="submit-button">비밀번호 변경</button>
    </form>

    <div class="action-links">
        <a th:href="@{/member/find_id}" class="link">아이디 찾기</a>
        <span class="separator">|</span>
        <a th:href="@{/member/login}" class="link">로그인</a>
    </div>
</div>

<script th:src="@{/js/find.js}"></script>
</body>
</html>